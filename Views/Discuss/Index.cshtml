@model IEnumerable<Project.Models.Discuss>

@{
    Layout = "MainLayout";
}

<section>
    <div class="col-12">
        <h4>Создать новое обсуждение</h4>
        <form asp-action="create" asp-controller="discuss" class="col-12">
            <div class="mb-4 d-flex border rounded p-2 col-12">
                <div class="col-8 pb-4">
                    <label class="bold-mark">Название темы</label>
                    <input name="discussName" class="form-control-sm form-control" />
                    <label class="mt-2 bold-mark">Название темы</label>
                    <textarea name="discussContent" rows="3" class="form-control form-control-sm"></textarea>
                </div>
                <div class="col ps-2 text-start">
                    <label class="bold-mark">Теги</label>
                    <select name="discussTags" multiple id="discussTagSelect" class="form-select-sm form-select" aria-label="Default select example">
                        @foreach (var item in ViewBag.Tags)
                        {
                            <option value="@item.Name">@item.Name</option>
                        }
                    </select>
                    <button class="mt-3 btn btn-success">Опубликовать</button>
                </div>
            </div>
        </form>
    </div>
    <div class="mb-4">
        <div class="d-flex col-12 align-items-center">
            <h4 class="mb-1 me-4">Обсуждения сообщества</h4>
            @if (ViewBag.About?.CountDiscuss != null)
            {
                <span class="bold-mark me-4">
                    Обсуждений: @ViewBag.CountChallenges
                </span>
            } @if (ViewBag.About?.CountReplies != null)
            {
                <span class="bold-mark me-4">
                    Ответов: @ViewBag.CountReplies
                </span>
            }
        </div>
        <div class="p-3 border rounded">
            <div class="col-12 d-flex justify-content-around">
                <div class="dropdown">
                    <button class="btn btn-light dropdown-toggle"
                            type="button"
                            id="dropdownMenuButton"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false">
                        Поиск обсуждений
                    </button>
                    <div class="dropdown-menu"
                         aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </div>
                <div class="col-8 overflow-hidden align-items-center justify-content-start d-flex">
                    <span class="me-2 tag">Сортировка</span>
                    <span class="me-2 tag">Сортировка</span>
                    <span class="me-2 tag">Сортировка</span>
                    <span class="me-2 tag">Сортировка</span>
                    <span class="me-2 tag">Сортировка</span>
                </div>
                <div class="dropdown">
                    <button class="btn btn-light dropdown-toggle"
                            type="button"
                            id="dropdownMenuButton"
                            data-toggle="dropdown"
                            aria-haspopup="true"
                            aria-expanded="false">
                        Поиск обсуждений
                    </button>
                    <div class="dropdown-menu"
                         aria-labelledby="dropdownMenuButton">
                        <a class="dropdown-item" href="#">Action</a>
                        <a class="dropdown-item" href="#">Another action</a>
                        <a class="dropdown-item" href="#">Something else here</a>
                    </div>
                </div>
            </div>
            <hr class="m-0 mb-2" />
            <!---->
            @await Component.InvokeAsync("DiscussList")
            <!---->
            <div class="col-12 d-flex justify-content-between">
                <div class="btn-group mr-2"
                     role="group"
                     aria-label="First group">
                    <button type="button" class="btn btn-light">1</button>
                    <button type="button" disabled class="btn btn-light">
                        2
                    </button>
                    <button type="button" class="btn btn-light">3</button>
                </div>
            </div>
        </div>
    </div>
</section>
